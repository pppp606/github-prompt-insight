# Review PR  
URL: {{PR_URL}}

# 操作手順
1. `gh` コマンドを使って PR 情報と差分を取得
2. 差分を精査し、以下の観点でレビューを行う  
   - **設計の妥当性** (`design`)
     責務の分離、依存関係、将来的な変更への強さなど、設計全体をultrathinkし検討してください。  
   - **AIによる可読性** (`ai_readability`)  
     AIが誤解しやすい命名や構造がないかを確認してください（例：省略的な変数名、暗黙の依存）。  
   - **テストの妥当性・網羅性** (`test`)  
     対応範囲のコードに対して、妥当かつ網羅的なテストがあるかを確認してください。  
   - **セキュリティの懸念** (`security`)
     入力バリデーション、認可、脆弱性（XSS、CSRF等）の観点で問題がないかthinkし確認してください。  
   - **パフォーマンスの懸念** (`performance`)  
     明らかに非効率な処理やリソースの過剰消費がないか確認してください。  
   - **保守性・拡張性** (`maintainability`)
     今後の機能追加や修正がしやすい構成か、変更時の影響範囲が局所的かを確認してください。  
   - **ドキュメント整備状況** (`docs`)  
     コメント・型定義・README などが適切に整備され、利用意図が伝わるかを確認してください。  
   - **エラー処理・例外対応** (`error_handling`)
     適切な try/catch、ユーザーやログへの明示的なエラー通知が行われているかを確認してください。  

# 出力形式（JSON）
以下の形式で、問題点を指摘してください：
```
[
  {
    label: "imo",
    category: "design",
    file: "app/models/sound.rb",
    line: "61-65",
    problem: "毎回ファイルを読み込んでテンプレートをコンパイルするのは非効率的です。",
    proposal: "テンプレートをキャッシュするか、パーシャルテンプレートを使用することを検討してください。"
  }
]
```

# category 一覧
- 設計の妥当性: `design`
- AIによる可読性: `ai_readability`
- テストの妥当性・網羅性: `test`
- セキュリティの懸念: `security`
- パフォーマンスの懸念: `performance`
- 保守性・拡張性: `maintainability`
- ドキュメント整備状況: `docs`
- エラー処理・例外対応: `error_handling`

# label 一覧
- 対応必須: `must`
- 意見・提案: `imo`
- 些細な指摘: `nits`
- 質問・確認: `ask`
